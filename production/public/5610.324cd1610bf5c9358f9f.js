"use strict";(self.webpackChunk_fuse_demo=self.webpackChunk_fuse_demo||[]).push([[5610],{12178:(W,Q,i)=>{i.d(Q,{pW:()=>B,Cv:()=>Y});var c=i(37716),T=i(38583),k=i(72458),w=i(39490),P=i(46237),S=i(75319),D=i(22759),M=i(45435);const U=["primaryValueBar"],E=(0,k.pj)(class{constructor(u){this._elementRef=u}},"primary"),q=new c.OlP("mat-progress-bar-location",{providedIn:"root",factory:function(){const u=(0,c.f3M)(T.K0),f=u?u.location:null;return{getPathname:()=>f?f.pathname+f.search:""}}});let I=0,B=(()=>{class u extends E{constructor(m,d,t,J){super(m),this._ngZone=d,this._animationMode=t,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new c.vpe,this._animationEndSubscription=S.w.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+I++;const Z=J?J.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${Z}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===t}get value(){return this._value}set value(m){this._value=x((0,w.su)(m)||0)}get bufferValue(){return this._bufferValue}set bufferValue(m){this._bufferValue=x(m||0)}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const m=this._primaryValueBar.nativeElement;this._animationEndSubscription=(0,D.R)(m,"transitionend").pipe((0,M.h)(d=>d.target===m)).subscribe(()=>{("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return u.\u0275fac=function(m){return new(m||u)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(P.Qb,8),c.Y36(q,8))},u.\u0275cmp=c.Xpm({type:u,selectors:[["mat-progress-bar"]],viewQuery:function(m,d){if(1&m&&c.Gf(U,5),2&m){let t;c.iGM(t=c.CRH())&&(d._primaryValueBar=t.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(m,d){2&m&&(c.uIk("aria-valuenow","indeterminate"===d.mode||"query"===d.mode?null:d.value)("mode",d.mode),c.ekj("_mat-animation-noopable",d._isNoopAnimation))},inputs:{color:"color",mode:"mode",value:"value",bufferValue:"bufferValue"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[c.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(m,d){1&m&&(c.TgZ(0,"div",0),c.O4$(),c.TgZ(1,"svg",1),c.TgZ(2,"defs"),c.TgZ(3,"pattern",2),c._UZ(4,"circle",3),c.qZA(),c.qZA(),c._UZ(5,"rect",4),c.qZA(),c.kcU(),c._UZ(6,"div",5),c._UZ(7,"div",6,7),c._UZ(9,"div",8),c.qZA()),2&m&&(c.xp6(3),c.Q6J("id",d.progressbarId),c.xp6(2),c.uIk("fill",d._rectangleFillValue),c.xp6(1),c.Q6J("ngStyle",d._bufferTransform()),c.xp6(1),c.Q6J("ngStyle",d._primaryTransform()))},directives:[T.PC],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),u})();function x(u,f=0,m=100){return Math.max(f,Math.min(m,u))}let Y=(()=>{class u{}return u.\u0275fac=function(m){return new(m||u)},u.\u0275mod=c.oAB({type:u}),u.\u0275inj=c.cJS({imports:[[T.ez,k.BQ],k.BQ]}),u})()},95610:(W,Q,i)=>{i.r(Q),i.d(Q,{ContactsModule:()=>Nt});var c=i(63423),T=i(51095),k=i(7539),w=i(72458),P=i(43220),S=i(1769),D=i(98295),M=i(76627),U=i(83166),E=i(33935),q=i(36063),L=i(12178),I=i(82613),B=i(67441),x=i(23017),Y=i(32789),u=i(11436),f=i(16738),m=i(7853),d=i(44466),t=i(37716);let J=(()=>{class n{canDeactivate(e,a,r,s){let l=s.root;for(;l.firstChild;)l=l.firstChild;return!(s.url.includes("/contacts")&&!l.paramMap.get("id"))||e.closeDrawer().then(()=>!0)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Z=i(26215),tt=i(40205),et=i(25917),A=i(93342),h=i(15257),b=i(88002),_=i(43190),O=i(45435),$=i(91841);let R=(()=>{class n{constructor(e){this._httpClient=e,this._contact=new Z.X(null),this._contacts=new Z.X(null),this._countries=new Z.X(null),this._tags=new Z.X(null)}get contact$(){return this._contact.asObservable()}get contacts$(){return this._contacts.asObservable()}get countries$(){return this._countries.asObservable()}get tags$(){return this._tags.asObservable()}getContacts(){return this._httpClient.get("api/apps/contacts/all").pipe((0,A.b)(e=>{this._contacts.next(e)}))}searchContacts(e){return this._httpClient.get("api/apps/contacts/search",{params:{query:e}}).pipe((0,A.b)(a=>{this._contacts.next(a)}))}getContactById(e){return this._contacts.pipe((0,h.q)(1),(0,b.U)(a=>{const r=a.find(s=>s.id===e)||null;return this._contact.next(r),r}),(0,_.w)(a=>a?(0,et.of)(a):(0,tt._)("Could not found contact with id of "+e+"!")))}createContact(){return this.contacts$.pipe((0,h.q)(1),(0,_.w)(e=>this._httpClient.post("api/apps/contacts/contact",{}).pipe((0,b.U)(a=>(this._contacts.next([a,...e]),a)))))}updateContact(e,a){return this.contacts$.pipe((0,h.q)(1),(0,_.w)(r=>this._httpClient.patch("api/apps/contacts/contact",{id:e,contact:a}).pipe((0,b.U)(s=>{const l=r.findIndex(p=>p.id===e);return r[l]=s,this._contacts.next(r),s}),(0,_.w)(s=>this.contact$.pipe((0,h.q)(1),(0,O.h)(l=>l&&l.id===e),(0,A.b)(()=>(this._contact.next(s),s)))))))}deleteContact(e){return this.contacts$.pipe((0,h.q)(1),(0,_.w)(a=>this._httpClient.delete("api/apps/contacts/contact",{params:{id:e}}).pipe((0,b.U)(r=>{const s=a.findIndex(l=>l.id===e);return a.splice(s,1),this._contacts.next(a),r}))))}getCountries(){return this._httpClient.get("api/apps/contacts/countries").pipe((0,A.b)(e=>{this._countries.next(e)}))}getTags(){return this._httpClient.get("api/apps/contacts/tags").pipe((0,A.b)(e=>{this._tags.next(e)}))}createTag(e){return this.tags$.pipe((0,h.q)(1),(0,_.w)(a=>this._httpClient.post("api/apps/contacts/tag",{tag:e}).pipe((0,b.U)(r=>(this._tags.next([...a,r]),r)))))}updateTag(e,a){return this.tags$.pipe((0,h.q)(1),(0,_.w)(r=>this._httpClient.patch("api/apps/contacts/tag",{id:e,tag:a}).pipe((0,b.U)(s=>{const l=r.findIndex(p=>p.id===e);return r[l]=s,this._tags.next(r),s}))))}deleteTag(e){return this.tags$.pipe((0,h.q)(1),(0,_.w)(a=>this._httpClient.delete("api/apps/contacts/tag",{params:{id:e}}).pipe((0,b.U)(r=>{const s=a.findIndex(l=>l.id===e);return a.splice(s,1),this._tags.next(a),r}),(0,O.h)(r=>r),(0,_.w)(r=>this.contacts$.pipe((0,h.q)(1),(0,b.U)(s=>(s.forEach(l=>{const p=l.tags.findIndex(g=>g===e);p>-1&&l.tags.splice(p,1)}),r)))))))}uploadAvatar(e,a){return this.contacts$.pipe((0,h.q)(1),(0,_.w)(r=>this._httpClient.post("api/apps/contacts/avatar",{id:e,avatar:a},{headers:{"Content-Type":a.type}}).pipe((0,b.U)(s=>{const l=r.findIndex(p=>p.id===e);return r[l]=s,this._contacts.next(r),s}),(0,_.w)(s=>this.contact$.pipe((0,h.q)(1),(0,O.h)(l=>l&&l.id===e),(0,A.b)(()=>(this._contact.next(s),s)))))))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG($.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nt=(()=>{class n{constructor(e){this._contactsService=e}resolve(e,a){return this._contactsService.getContacts()}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(R))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),at=(()=>{class n{constructor(e){this._contactsService=e}resolve(e,a){return this._contactsService.getCountries()}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(R))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rt=(()=>{class n{constructor(e){this._contactsService=e}resolve(e,a){return this._contactsService.getTags()}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(R))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ot=(()=>{class n{constructor(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["contacts"]],decls:1,vars:0,template:function(e,a){1&e&&t._UZ(0,"router-outlet")},directives:[c.lC],encapsulation:2,changeDetection:0}),n})();function X(n,o,e,a,r,s,l){try{var p=n[s](l),g=p.value}catch(j){return void e(j)}p.done?o(g):Promise.resolve(g).then(a,r)}function F(n){return function(){var o=this,e=arguments;return new Promise(function(a,r){var s=n.apply(o,e);function l(g){X(s,a,r,l,p,"next",g)}function p(g){X(s,a,r,l,p,"throw",g)}l(void 0)})}}var C=i(38583),v=i(3679),H=i(79765),it=i(22759),y=i(46782);let N=(()=>{class n{constructor(e){this._httpClient=e}getFormsData(e="pending"){return new Promise((a,r)=>{this._httpClient.get(window.appBaseUrl+`/forms?filter=${e}`).subscribe(s=>{a(s)},r)})}getFormData(e){return new Promise((a,r)=>{this._httpClient.get(window.appBaseUrl+"/forms/"+e).subscribe(s=>{a(s)},r)})}updateFormResults(e,a){return new Promise((r,s)=>{this._httpClient.put(window.appBaseUrl+"/forms/"+e,a).subscribe(l=>{r(l)},s)})}sendReportEmail(e){return new Promise((a,r)=>{this._httpClient.post(window.appBaseUrl+"/forms/emailReport",{contact:e}).subscribe(s=>{a(s)},r)})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG($.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();var st=i(91812),G=i(4885);let ct=(()=>{class n{transform(e,a){return e&&a?(a=a.toLowerCase(),e.filter(function(r){return Object.keys(r).some(function(s){return r[s].toString().toLowerCase().includes(a)})})):e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"searchFilter",type:n,pure:!1}),n})();const lt=["matDrawer"];function mt(n,o){if(1&n&&(t.ynx(0),t._uU(1),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",e.contactsCount," ")}}function ut(n,o){1&n&&(t.TgZ(0,"div",22),t._UZ(1,"mat-progress-spinner",23),t.qZA()),2&n&&(t.xp6(1),t.Q6J("diameter",30)("mode","indeterminate"))}function pt(n,o){if(1&n&&(t.ynx(0),t._UZ(1,"img",30),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("src",e.signature,t.LSH)}}function dt(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",31),t._uU(2),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.hij(" ",e.first_name.charAt(0)," ")}}const gt=function(n,o){return{"hover:bg-gray-100 dark:hover:bg-hover":n,"bg-primary-50 dark:bg-hover":o}},ft=function(n){return["./",n]};function _t(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"a",25),t.TgZ(2,"div",26),t.YNc(3,pt,2,1,"ng-container",9),t.YNc(4,dt,3,1,"ng-container",9),t.qZA(),t.TgZ(5,"div",27),t.TgZ(6,"div",28),t.TgZ(7,"div",29),t._uU(8),t.qZA(),t.TgZ(9,"div",29),t._uU(10),t.qZA(),t.TgZ(11,"div",29),t._uU(12),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&n){const e=o.$implicit,a=t.oxw(3);t.xp6(1),t.Q6J("ngClass",t.WLB(11,gt,!a.selectedContact||a.selectedContact._id!==e._id,a.selectedContact&&a.selectedContact._id===e._id))("routerLink",t.VKq(14,ft,e._id)),t.xp6(2),t.Q6J("ngIf",e.avatar),t.xp6(1),t.Q6J("ngIf",!e.avatar),t.xp6(3),t.Q6J("matTooltip","Name"),t.xp6(1),t.AsE("",e.last_name,", ",e.first_name,""),t.xp6(1),t.Q6J("matTooltip","Location"),t.xp6(1),t.Oqu(e.location),t.xp6(1),t.Q6J("matTooltip","Collection Date"),t.xp6(1),t.Oqu(e.collection_date.month+"/"+e.collection_date.day+"/"+e.collection_date.year)}}function ht(n,o){if(1&n&&(t.ynx(0),t.YNc(1,_t,13,16,"ng-container",24),t.ALo(2,"searchFilter"),t.BQk()),2&n){const e=t.oxw().ngIf,a=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,2,e,a.searchTerm))("ngForTrackBy",a.trackByFn)}}function vt(n,o){if(1&n&&(t.ynx(0),t.YNc(1,ut,2,2,"div",20),t.YNc(2,ht,3,5,"ng-container",21),t.BQk()),2&n){const e=o.ngIf,a=t.oxw();t.xp6(1),t.Q6J("ngIf",a.contactsLoading),t.xp6(1),t.Q6J("ngIf",e.length&&!a.contactsLoading)("ngIfElse",a.noContacts)}}function bt(n,o){1&n&&(t.TgZ(0,"div",33),t._uU(1,"There are no patients!"),t.qZA())}function xt(n,o){1&n&&t.YNc(0,bt,2,0,"ng-template",null,32,t.W1O)}const Ct=function(){return{"=0":"No patients","=1":"contact",other:"contacts"}};let V=(()=>{class n{constructor(e,a,r,s,l,p,g){this._activatedRoute=e,this._changeDetectorRef=a,this._contactsService=r,this._formsService=s,this._document=l,this._router=p,this._fuseMediaWatcherService=g,this.contactsCount=0,this.contactsTableColumns=["name","email","phoneNumber","job"],this.searchInputControl=new v.NI,this._unsubscribeAll=new H.xQ}ngOnInit(){var e=this;return F(function*(){e.contacts$=yield e._formsService.getFormsData(),e.patientsFilter="pending",e.contactsLoading=!1,console.log(e.contacts$),e._contactsService.contact$.pipe((0,y.R)(e._unsubscribeAll)).subscribe(a=>{e.selectedContact=a,e._changeDetectorRef.markForCheck()}),e._contactsService.countries$.pipe((0,y.R)(e._unsubscribeAll)).subscribe(a=>{e.countries=a,e._changeDetectorRef.markForCheck()}),e.searchInputControl.valueChanges.pipe((0,y.R)(e._unsubscribeAll),(0,_.w)(a=>e._contactsService.searchContacts(a))).subscribe(),e.matDrawer.openedChange.subscribe(a=>{a||(e.selectedContact=null,e._changeDetectorRef.markForCheck())}),e._fuseMediaWatcherService.onMediaChange$.pipe((0,y.R)(e._unsubscribeAll)).subscribe(({matchingAliases:a})=>{e.drawerMode=a.includes("lg")?"side":"over",e._changeDetectorRef.markForCheck()}),(0,it.R)(e._document,"keydown").pipe((0,y.R)(e._unsubscribeAll),(0,O.h)(a=>(!0===a.ctrlKey||a.metaKey)&&"/"===a.key)).subscribe(()=>{e.createContact()})})()}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}patientsFilterRun(){var e=this;return F(function*(){e.contactsLoading=!0,e.contacts$=yield e._formsService.getFormsData(e.patientsFilter),e.contactsLoading=!1,e._changeDetectorRef.markForCheck()})()}onBackdropClicked(){this._router.navigate(["./"],{relativeTo:this._activatedRoute}),this._changeDetectorRef.markForCheck()}filterPatients(e){this.searchTerm=e}createContact(){this._contactsService.createContact().subscribe(e=>{this._router.navigate(["./",e.id],{relativeTo:this._activatedRoute}),this._changeDetectorRef.markForCheck()})}trackByFn(e,a){return a.id||e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c.gz),t.Y36(t.sBO),t.Y36(R),t.Y36(N),t.Y36(C.K0),t.Y36(c.F0),t.Y36(st.T))},n.\u0275cmp=t.Xpm({type:n,selectors:[["contacts-list"]],viewQuery:function(e,a){if(1&e&&t.Gf(lt,7),2&e){let r;t.iGM(r=t.CRH())&&(a.matDrawer=r.first)}},decls:32,vars:19,consts:[[1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-hidden"],[1,"flex-auto","h-full","bg-card","dark:bg-transparent",3,"backdropClick"],[1,"w-full","md:w-160","dark:bg-gray-900",3,"mode","opened","position","disableClose"],["matDrawer",""],[1,"flex","flex-col"],[1,"flex-auto"],[1,"flex","flex-col","sm:flex-row","md:flex-col","flex-auto","justify-between","py-8","px-6","md:px-8","border-b"],[1,"text-4xl","font-extrabold","tracking-tight","leading-none"],[1,"ml-0.5","font-medium","text-secondary"],[4,"ngIf"],[1,"flex","items-center","mt-4","sm:mt-0","md:mt-4"],[1,"fuse-mat-dense","fuse-mat-no-subscript","fuse-mat-rounded","w-full","min-w-50"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder","input"],[1,"fuse-mat-dense","fuse-mat-no-subscript","min-w-50"],[3,"value","placeholder","valueChange","selectionChange"],["selected","","value","pending"],["value","reported"],["value","all"],[1,"relative"],["class","w-full min-h-250 flex flex-col flex-auto items-center justify-center ng-star-inserted",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"w-full","min-h-250","flex","flex-col","flex-auto","items-center","justify-center","ng-star-inserted"],[3,"diameter","mode"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"z-20","flex","items-center","px-6","py-4","md:px-8","cursor-pointer","border-b",3,"ngClass","routerLink"],[1,"flex","flex-0","items-center","justify-center","w-10","h-10","rounded-full","overflow-hidden"],[1,"min-w-0","w-full"],[1,"flex","flex-row","flex-auto","justify-between","md:px-8"],[3,"matTooltip"],["alt","Contact avatar",1,"object-cover","w-full","h-full",3,"src"],[1,"flex","items-center","justify-center","w-full","h-full","rounded-full","text-lg","uppercase","bg-gray-200","text-gray-600","dark:bg-gray-700","dark:text-gray-200"],["noContacts",""],[1,"p-8","sm:p-16","border-t","text-4xl","font-semibold","tracking-tight","text-center"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"mat-drawer-container",1),t.NdJ("backdropClick",function(){return a.onBackdropClicked()}),t.TgZ(2,"mat-drawer",2,3),t._UZ(4,"router-outlet"),t.qZA(),t.TgZ(5,"mat-drawer-content",4),t.TgZ(6,"div",5),t.TgZ(7,"div",6),t.TgZ(8,"div"),t.TgZ(9,"div",7),t._uU(10,"Patients"),t.qZA(),t.TgZ(11,"div",8),t.YNc(12,mt,2,1,"ng-container",9),t._uU(13),t.ALo(14,"i18nPlural"),t.qZA(),t.qZA(),t.TgZ(15,"div",10),t.TgZ(16,"div",5),t.TgZ(17,"mat-form-field",11),t._UZ(18,"mat-icon",12),t.TgZ(19,"input",13),t.NdJ("input",function(){return a.filterPatients(a.searchInputControl.value)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(20,"mat-form-field",14),t.TgZ(21,"mat-select",15),t.NdJ("valueChange",function(s){return a.patientsFilter=s})("selectionChange",function(){return a.patientsFilterRun()}),t.TgZ(22,"mat-option",16),t._uU(23,"Pending"),t.qZA(),t.TgZ(24,"mat-option",17),t._uU(25,"Reported"),t.qZA(),t.TgZ(26,"mat-option",18),t._uU(27,"All"),t.qZA(),t.qZA(),t._UZ(28,"mat-icon",12),t.qZA(),t.qZA(),t.qZA(),t.TgZ(29,"div",19),t.YNc(30,vt,3,3,"ng-container",9),t.YNc(31,xt,2,0,void 0,9),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.Q6J("mode",a.drawerMode)("opened",!1)("position","end")("disableClose",!0),t.xp6(10),t.Q6J("ngIf",a.contactsCount>0),t.xp6(1),t.hij(" ",t.xi3(14,15,a.contactsCount,t.DdM(18,Ct))," "),t.xp6(5),t.Q6J("svgIcon","heroicons_solid:search"),t.xp6(1),t.Q6J("formControl",a.searchInputControl)("autocomplete","off")("placeholder","Search patients"),t.xp6(2),t.Q6J("value",a.patientsFilter)("placeholder","Filter Patients"),t.xp6(7),t.Q6J("svgIcon","heroicons_outline:filter"),t.xp6(2),t.Q6J("ngIf",a.contacts$),t.xp6(1),t.Q6J("ngIf",!a.contactsLoading))},directives:[x.kh,x.jA,c.lC,x.LW,C.O5,D.KE,M.Hw,D.qo,U.Nt,v.Fj,v.JJ,v.oH,B.gD,w.ey,G.Ou,C.sg,c.yS,C.mk,u.gM],pipes:[C.Gx,ct],encapsulation:2,changeDetection:0}),n})();var yt=i(87636),Tt=i(54395),Zt=i(1400),At=i(58203),z=i(77001);const kt=["avatarFileInput"],wt=["tagsPanel"],Dt=["tagsPanelOrigin"];function Mt(n,o){if(1&n&&(t.ynx(0),t._UZ(1,"img",7),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("src",e.contact.background,t.LSH)}}function It(n,o){if(1&n&&t._UZ(0,"img",31),2&n){const e=t.oxw(3);t.Q6J("src",e.contact.avatar,t.LSH)}}function Rt(n,o){if(1&n&&(t.TgZ(0,"div",32),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.contact.first_name.charAt(0)," ")}}function Ft(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",28),t._UZ(2,"mat-icon",5),t.TgZ(3,"div",33),t.TgZ(4,"span",21),t._uU(5),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&n){const e=o.$implicit;t.xp6(2),t.Q6J("svgIcon","iconsmind:hospital"),t.xp6(3),t.Oqu(e)}}function Qt(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",34),t._UZ(2,"mat-icon",5),t.TgZ(3,"div",35),t.ynx(4),t.TgZ(5,"div",36),t.TgZ(6,"a",37),t._uU(7),t.qZA(),t.qZA(),t.BQk(),t.qZA(),t.qZA(),t.BQk()),2&n){const e=t.oxw(3);t.xp6(2),t.Q6J("svgIcon","heroicons_outline:mail"),t.xp6(4),t.Q6J("href","mailto:"+e.contact.email,t.LSH),t.xp6(1),t.hij(" ",e.contact.email," ")}}function Ut(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",34),t._UZ(2,"mat-icon",5),t.TgZ(3,"div",35),t.ynx(4),t.TgZ(5,"div",36),t.TgZ(6,"a",37),t._uU(7),t.qZA(),t.qZA(),t.BQk(),t.qZA(),t.qZA(),t.BQk()),2&n){const e=t.oxw(3);t.xp6(2),t.Q6J("svgIcon","heroicons_outline:phone"),t.xp6(4),t.Q6J("href","tel:"+e.contact.phone_number.full,t.LSH),t.xp6(1),t.hij(" ",e.contact.phone_number.full," ")}}function Bt(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",28),t._UZ(2,"mat-icon",5),t.TgZ(3,"div",30),t._uU(4),t.qZA(),t.qZA(),t.BQk()),2&n){const e=t.oxw(3);t.xp6(2),t.Q6J("svgIcon","heroicons_outline:location-marker"),t.xp6(2),t.HOy("",e.contact.address.addr_line1,", ",e.contact.address.city,", ",e.contact.address.state,", ",e.contact.address.postal,"")}}function Jt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",8),t.TgZ(1,"div",9),t.TgZ(2,"div",10),t.TgZ(3,"div",11),t.YNc(4,It,1,1,"img",12),t.YNc(5,Rt,2,1,"div",13),t.qZA(),t.TgZ(6,"div",14),t.TgZ(7,"button",15),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).toggleEditMode(!0)}),t._UZ(8,"mat-icon",16),t.TgZ(9,"span",17),t._uU(10,"Results"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"div",18),t._uU(12),t.qZA(),t.ynx(13),t.TgZ(14,"div",19),t.ynx(15),t.TgZ(16,"div",20),t.TgZ(17,"span",21),t._uU(18),t.qZA(),t.qZA(),t.TgZ(19,"div",20),t.TgZ(20,"span",21),t._uU(21),t.qZA(),t.qZA(),t.TgZ(22,"div",22),t.TgZ(23,"span",21),t._uU(24),t.qZA(),t.qZA(),t.TgZ(25,"div",23),t._UZ(26,"mat-icon",24),t.TgZ(27,"span",25),t._uU(28),t.qZA(),t.qZA(),t.BQk(),t.qZA(),t.BQk(),t.TgZ(29,"div",26),t.YNc(30,Ft,6,2,"ng-container",27),t.ynx(31),t.TgZ(32,"div",28),t._UZ(33,"mat-icon",5),t.TgZ(34,"div",29),t._uU(35),t.qZA(),t.TgZ(36,"div",29),t._uU(37),t.qZA(),t._UZ(38,"mat-icon",5),t.qZA(),t.BQk(),t.YNc(39,Qt,8,3,"ng-container",1),t.YNc(40,Ut,8,3,"ng-container",1),t.ynx(41),t.TgZ(42,"div",28),t._UZ(43,"mat-icon",5),t.TgZ(44,"div",30),t._uU(45),t.qZA(),t.qZA(),t.BQk(),t.YNc(46,Bt,5,5,"ng-container",1),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(4),t.Q6J("ngIf",e.contact.avatar),t.xp6(1),t.Q6J("ngIf",!e.contact.avatar),t.xp6(3),t.Q6J("svgIcon","heroicons_solid:pencil-alt"),t.xp6(4),t.Oqu(e.contact.first_name+" "+e.contact.last_name),t.xp6(4),t.Q6J("matTooltip","Gender"),t.xp6(2),t.Oqu(e.contact.gender),t.xp6(1),t.Q6J("matTooltip","Location"),t.xp6(2),t.Oqu(e.contact.location),t.xp6(1),t.Q6J("matTooltip","Race"),t.xp6(2),t.Oqu(e.contact.race),t.xp6(1),t.Q6J("matTooltip","DOB"),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:calendar"),t.xp6(2),t.Oqu(e.contact.date_of_birth.day+"-"+e.contact.date_of_birth.month+"-"+e.contact.date_of_birth.year),t.xp6(2),t.Q6J("ngForOf",e.contact.selected_tests),t.xp6(3),t.Q6J("svgIcon","heroicons_outline:calendar"),t.xp6(2),t.Oqu(e.contact.collection_date.month+"/"+e.contact.collection_date.day+"/"+e.contact.collection_date.year),t.xp6(2),t.Oqu(e.contact.collection_time.timeInput+" "+e.contact.collection_time.ampm),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:clock"),t.xp6(1),t.Q6J("ngIf",e.contact.email),t.xp6(1),t.Q6J("ngIf",e.contact.phone_number),t.xp6(3),t.Q6J("svgIcon","iconsmind:folder_withdocument"),t.xp6(2),t.AsE("",e.contact.insurance_id,"(",e.contact.relationship_to_insured,")"),t.xp6(1),t.Q6J("ngIf",e.contact.address)}}const K=function(){return["../"]};function Ot(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",2),t.YNc(2,Mt,2,1,"ng-container",1),t.TgZ(3,"div",3),t.TgZ(4,"button",4),t._UZ(5,"mat-icon",5),t.qZA(),t.qZA(),t.qZA(),t.YNc(6,Jt,47,24,"div",6),t.BQk()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.contact.background),t.xp6(2),t.Q6J("matTooltip","Close")("routerLink",t.DdM(5,K)),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:x"),t.xp6(1),t.Q6J("ngIf",e.contact)}}function Pt(n,o){if(1&n&&(t.ynx(0),t._UZ(1,"img",7),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("src",e.contact.background,t.LSH)}}function St(n,o){if(1&n&&t._UZ(0,"img",31),2&n){const e=t.oxw(2);t.Q6J("src",e.contact.avatar,t.LSH)}}function Et(n,o){if(1&n&&(t.TgZ(0,"div",32),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.contact.first_name.charAt(0)," ")}}const qt=function(){return{standalone:!0}};function Lt(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",2),t.YNc(2,Pt,2,1,"ng-container",1),t.TgZ(3,"div",3),t.TgZ(4,"button",4),t._UZ(5,"mat-icon",38),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",39),t.TgZ(7,"div",9),t.TgZ(8,"form",40),t.TgZ(9,"div",10),t.TgZ(10,"div",41),t.YNc(11,St,1,1,"img",12),t.YNc(12,Et,2,1,"div",13),t.qZA(),t.qZA(),t.TgZ(13,"div",42),t.TgZ(14,"span",43),t._uU(15,"Test Results"),t.qZA(),t.TgZ(16,"mat-radio-group",44),t.NdJ("ngModelChange",function(r){return t.CHM(e),t.oxw().contact.test_result=r})("change",function(){return t.CHM(e),t.oxw().resultSelectedUpdated()}),t.TgZ(17,"mat-radio-button",45),t._uU(18," Positive "),t.qZA(),t.TgZ(19,"mat-radio-button",45),t._uU(20," Negative "),t.qZA(),t.TgZ(21,"mat-radio-button",46),t._uU(22," UnCertain "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(23,"div",47),t.TgZ(24,"button",48),t.NdJ("click",function(){return t.CHM(e),t.oxw().deleteContact()}),t._uU(25," Delete "),t.qZA(),t.TgZ(26,"button",49),t.NdJ("click",function(){return t.CHM(e),t.oxw().toggleEditMode(!1)}),t._uU(27," Cancel "),t.qZA(),t.TgZ(28,"button",50),t.NdJ("click",function(){return t.CHM(e),t.oxw().updateContact()}),t._uU(29," Save "),t.qZA(),t.TgZ(30,"button",51),t.NdJ("click",function(){return t.CHM(e),t.oxw().sendEmail()}),t._UZ(31,"mat-icon",5),t._uU(32," Send Email "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.contact.background),t.xp6(2),t.Q6J("matTooltip","Close")("routerLink",t.DdM(22,K)),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:x"),t.xp6(3),t.Q6J("formGroup",e.contactForm),t.xp6(3),t.Q6J("ngIf",e.contact.avatar),t.xp6(1),t.Q6J("ngIf",!e.contact.avatar),t.xp6(4),t.Q6J("color","primary")("ngModel",e.contact.test_result)("ngModelOptions",t.DdM(23,qt)),t.xp6(1),t.Q6J("value","positive"),t.xp6(2),t.Q6J("value","negative"),t.xp6(2),t.Q6J("value","uncertain"),t.xp6(3),t.Q6J("color","warn")("matTooltip","Delete"),t.xp6(2),t.Q6J("matTooltip","Cancel"),t.xp6(2),t.Q6J("color","primary")("disabled",!e.contact.test_result)("matTooltip","Save"),t.xp6(2),t.Q6J("matTooltip","Send Email")("disabled",!e.contact.test_result),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:mail")}}const Yt=[{path:"",component:ot,resolve:{tags:rt},children:[{path:"",component:V,resolve:{tasks:nt,countries:at},children:[{path:":id",component:(()=>{class n{constructor(e,a,r,s,l,p,g,j,jt,$t,Xt,Ht){this._activatedRoute=e,this._changeDetectorRef=a,this._contactsListComponent=r,this._contactsService=s,this._formBuilder=l,this._fuseConfirmationService=p,this._renderer2=g,this._router=j,this._overlay=jt,this._formsService=$t,this._viewContainerRef=Xt,this._snackBar=Ht,this.editMode=!1,this.tagsEditMode=!1,this._unsubscribeAll=new H.xQ}ngOnInit(){var e=this;return F(function*(){const a=e._activatedRoute.snapshot.params;e._contactsListComponent.matDrawer.open(),e.contactForm=e._formBuilder.group({id:[""],avatar:[null],name:["",[v.kI.required]],emails:e._formBuilder.array([]),phoneNumbers:e._formBuilder.array([]),title:[""],company:[""],birthday:[null],address:[null],notes:[null],tags:[[]]}),e.contact_id=a.id,e.contact=yield e._formsService.getFormData(a.id),e._contactsService.countries$.pipe((0,y.R)(e._unsubscribeAll)).subscribe(r=>{e.countries=r,e._changeDetectorRef.markForCheck()}),e._contactsService.tags$.pipe((0,y.R)(e._unsubscribeAll)).subscribe(r=>{e.tags=r,e.filteredTags=r,e._changeDetectorRef.markForCheck()})})()}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete(),this._tagsPanelOverlayRef&&this._tagsPanelOverlayRef.dispose()}closeDrawer(){return this._contactsListComponent.matDrawer.close()}toggleEditMode(e=null){this.editMode=null===e?!this.editMode:e,this._changeDetectorRef.markForCheck()}resultSelectedUpdated(){this.contact.report_status="reported";const a=f().format("MM/DD/YYYY HH:mm A");this.contact.reported_date=a}updateContact(){var e=this;return F(function*(){yield e._formsService.updateFormResults(e.contact_id,e.contact),e.toggleEditMode(!1)})()}sendEmail(){var e=this;return F(function*(){yield e._formsService.sendReportEmail(e.contact),e._snackBar.open(`Report sent to ${e.contact.email}`,"Done")})()}deleteContact(){this._fuseConfirmationService.open({title:"Delete contact",message:"Are you sure you want to delete this contact? This action cannot be undone!",actions:{confirm:{label:"Delete"}}}).afterClosed().subscribe(a=>{if("confirmed"===a){const r=this.contact.id,s=this.contacts.findIndex(g=>g.id===r),l=s+(s===this.contacts.length-1?-1:1),p=1===this.contacts.length&&this.contacts[0].id===r?null:this.contacts[l].id;this._contactsService.deleteContact(r).subscribe(g=>{!g||(this._router.navigate(p?["../",p]:["../"],{relativeTo:this._activatedRoute}),this.toggleEditMode(!1))}),this._changeDetectorRef.markForCheck()}})}uploadAvatar(e){if(!e.length)return;const r=e[0];!["image/jpeg","image/png"].includes(r.type)||this._contactsService.uploadAvatar(this.contact.id,r).subscribe()}removeAvatar(){this.contactForm.get("avatar").setValue(null),this._avatarFileInput.nativeElement.value=null,this.contact.avatar=null}openTagsPanel(){this._tagsPanelOverlayRef=this._overlay.create({backdropClass:"",hasBackdrop:!0,scrollStrategy:this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().flexibleConnectedTo(this._tagsPanelOrigin.nativeElement).withFlexibleDimensions(!0).withViewportMargin(64).withLockedPosition(!0).withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"}])}),this._tagsPanelOverlayRef.attachments().subscribe(()=>{this._renderer2.addClass(this._tagsPanelOrigin.nativeElement,"panel-opened"),this._tagsPanelOverlayRef.overlayElement.querySelector("input").focus()});const e=new yt.UE(this._tagsPanel,this._viewContainerRef);this._tagsPanelOverlayRef.attach(e),this._tagsPanelOverlayRef.backdropClick().subscribe(()=>{this._renderer2.removeClass(this._tagsPanelOrigin.nativeElement,"panel-opened"),this._tagsPanelOverlayRef&&this._tagsPanelOverlayRef.hasAttached()&&(this._tagsPanelOverlayRef.detach(),this.filteredTags=this.tags,this.tagsEditMode=!1),e&&e.isAttached&&e.detach()})}toggleTagsEditMode(){this.tagsEditMode=!this.tagsEditMode}filterTags(e){const a=e.target.value.toLowerCase();this.filteredTags=this.tags.filter(r=>r.title.toLowerCase().includes(a))}filterTagsInputKeyDown(e){if("Enter"!==e.key)return;if(0===this.filteredTags.length)return this.createTag(e.target.value),void(e.target.value="");const a=this.filteredTags[0];this.contact.tags.find(s=>s===a.id)?this.removeTagFromContact(a):this.addTagToContact(a)}createTag(e){this._contactsService.createTag({title:e}).subscribe(r=>{this.addTagToContact(r)})}updateTagTitle(e,a){e.title=a.target.value,this._contactsService.updateTag(e.id,e).pipe((0,Tt.b)(300)).subscribe(),this._changeDetectorRef.markForCheck()}deleteTag(e){this._contactsService.deleteTag(e.id).subscribe(),this._changeDetectorRef.markForCheck()}addTagToContact(e){this.contact.tags.unshift(e.id),this.contactForm.get("tags").patchValue(this.contact.tags),this._changeDetectorRef.markForCheck()}removeTagFromContact(e){this.contact.tags.splice(this.contact.tags.findIndex(a=>a===e.id),1),this.contactForm.get("tags").patchValue(this.contact.tags),this._changeDetectorRef.markForCheck()}toggleContactTag(e){this.contact.tags.includes(e.id)?this.removeTagFromContact(e):this.addTagToContact(e)}shouldShowCreateTagButton(e){return!(""===e||this.tags.findIndex(a=>a.title.toLowerCase()===e.toLowerCase())>-1)}addEmailField(){const e=this._formBuilder.group({email:[""],label:[""]});this.contactForm.get("emails").push(e),this._changeDetectorRef.markForCheck()}removeEmailField(e){this.contactForm.get("emails").removeAt(e),this._changeDetectorRef.markForCheck()}addPhoneNumberField(){const e=this._formBuilder.group({country:["us"],phoneNumber:[""],label:[""]});this.contactForm.get("phoneNumbers").push(e),this._changeDetectorRef.markForCheck()}removePhoneNumberField(e){this.contactForm.get("phoneNumbers").removeAt(e),this._changeDetectorRef.markForCheck()}getCountryByIso(e){return this.countries.find(a=>a.iso===e)}trackByFn(e,a){return a.id||e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c.gz),t.Y36(t.sBO),t.Y36(V),t.Y36(R),t.Y36(v.qu),t.Y36(Zt.R),t.Y36(t.Qsj),t.Y36(c.F0),t.Y36(At.aV),t.Y36(N),t.Y36(t.s_b),t.Y36(z.ux))},n.\u0275cmp=t.Xpm({type:n,selectors:[["contacts-details"]],viewQuery:function(e,a){if(1&e&&(t.Gf(kt,5),t.Gf(wt,5),t.Gf(Dt,5)),2&e){let r;t.iGM(r=t.CRH())&&(a._avatarFileInput=r.first),t.iGM(r=t.CRH())&&(a._tagsPanel=r.first),t.iGM(r=t.CRH())&&(a._tagsPanelOrigin=r.first)}},decls:3,vars:2,consts:[[1,"flex","flex-col","w-full"],[4,"ngIf"],[1,"relative","w-full","h-40","sm:h-48","px-8","sm:px-12","bg-accent-100","dark:bg-accent-700"],[1,"flex","items-center","justify-end","w-full","max-w-3xl","mx-auto","pt-6"],["mat-icon-button","",3,"matTooltip","routerLink"],[3,"svgIcon"],["class","relative flex flex-col flex-auto items-center p-6 pt-0 sm:p-12 sm:pt-0",4,"ngIf"],[1,"absolute","inset-0","object-cover","w-full","h-full",3,"src"],[1,"relative","flex","flex-col","flex-auto","items-center","p-6","pt-0","sm:p-12","sm:pt-0"],[1,"w-full","max-w-3xl"],[1,"flex","flex-auto","items-end","-mt-16"],[1,"flex","items-center","justify-center","w-32","h-32","rounded-full","overflow-hidden","ring-4","ring-bg-card"],["class","object-cover w-full h-full",3,"src",4,"ngIf"],["class","flex items-center justify-center w-full h-full rounded overflow-hidden uppercase text-8xl font-bold leading-none bg-gray-200 text-gray-600 dark:bg-gray-700 dark:text-gray-200",4,"ngIf"],[1,"flex","items-center","ml-auto","mb-1"],["mat-stroked-button","",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2"],[1,"mt-3","text-4xl","font-bold","truncate"],[1,"flex","flex-wrap","items-center","mt-2"],[1,"flex","items-center","justify-center","py-1","px-3","mr-3","mb-3","rounded-full","leading-normal","text-gray-500","bg-gray-100","dark:text-gray-300","dark:bg-gray-700",3,"matTooltip"],[1,"text-sm","font-medium","whitespace-nowrap"],[1,"flex","items-center","justify-center","py-1","px-3","mr-3","rounded-full","mb-3","leading-normal","text-gray-500","bg-gray-100","dark:text-gray-300","dark:bg-gray-700",3,"matTooltip"],[1,"flex","items-center","justify-center","py-1","px-3","mr-3","mb-3","leading-normal","text-gray-500","bg-gray-100","dark:text-gray-300","dark:bg-gray-700",3,"matTooltip"],[2,"min-width","20px","width","20px",3,"svgIcon"],[1,"text-sm","ml-2","font-medium","whitespace-nowrap"],[1,"flex","flex-col","mt-4","pt-6","border-t","space-y-8"],[4,"ngFor","ngForOf"],[1,"flex","sm:items-center"],[1,"ml-3","leading-6"],[1,"ml-6","leading-6"],[1,"object-cover","w-full","h-full",3,"src"],[1,"flex","items-center","justify-center","w-full","h-full","rounded","overflow-hidden","uppercase","text-8xl","font-bold","leading-none","bg-gray-200","text-gray-600","dark:bg-gray-700","dark:text-gray-200"],[1,"flex","items-center","justify-center","py-1","px-3","mr-3","ml-3","leading-normal","text-gray-500","bg-gray-100","dark:text-gray-300","dark:bg-gray-700"],[1,"flex"],[1,"min-w-0","ml-6","space-y-1"],[1,"flex","items-center","leading-6"],["target","_blank",1,"hover:underline","text-primary-500",3,"href"],[1,"text-white",3,"svgIcon"],[1,"relative","flex","flex-col","flex-auto","items-center","px-6","sm:px-12"],[3,"formGroup"],[1,"relative","flex","items-center","justify-center","w-32","h-32","rounded-full","overflow-hidden","ring-4","ring-bg-card"],[1,"mt-8"],[1,"font-semibold"],[1,"flex","flex-col","mt-5",3,"color","ngModel","ngModelOptions","ngModelChange","change"],[1,"mb-2",3,"value"],[3,"value"],[1,"flex","items-center","mt-10","-mx-6","sm:-mx-12","py-4","pr-4","pl-1","sm:pr-12","sm:pl-7","border-t","bg-gray-50","dark:bg-transparent"],["mat-button","",3,"color","matTooltip","click"],["mat-button","",1,"ml-auto",3,"matTooltip","click"],["mat-flat-button","",1,"ml-2",3,"color","disabled","matTooltip","click"],["mat-flat-button","",1,"ml-2","text-green-800","bg-green-200","dark:text-green-100","dark:bg-green-500",3,"matTooltip","disabled","click"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0),t.YNc(1,Ot,7,6,"ng-container",1),t.YNc(2,Lt,33,24,"ng-container",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",!a.editMode&&a.contact),t.xp6(1),t.Q6J("ngIf",a.editMode))},directives:[C.O5,T.lW,u.gM,c.rH,M.Hw,C.sg,v._Y,v.JL,v.sg,I.VQ,v.JJ,v.On,I.U0],encapsulation:2,changeDetection:0}),n})(),canDeactivate:[J]}]}]}];let Nt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[N,{provide:w.sG,useValue:{parse:{dateInput:f.ISO_8601},display:{dateInput:"LL",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}}}],imports:[[c.Bz.forChild(Yt),T.ot,k.p9,P.FA,z.ZX,S.t,D.lN,M.Ps,U.c,E.Tx,q.Yd,L.Cv,G.Cq,I.Fk,w.si,B.LD,x.SJ,Y.p0,u.AV,m.V,d.m]]}),n})()}}]);