"use strict";(self.webpackChunk_fuse_demo=self.webpackChunk_fuse_demo||[]).push([[3989],{12178:(at,R,s)=>{s.d(R,{pW:()=>F,Cv:()=>j});var i=s(37716),C=s(38583),U=s(72458),w=s(39490),J=s(46237),q=s(75319),_=s(22759),Z=s(45435);const T=["primaryValueBar"],S=(0,U.pj)(class{constructor(p){this._elementRef=p}},"primary"),N=new i.OlP("mat-progress-bar-location",{providedIn:"root",factory:function(){const p=(0,i.f3M)(C.K0),g=p?p.location:null;return{getPathname:()=>g?g.pathname+g.search:""}}});let $=0,F=(()=>{class p extends S{constructor(m,d,t,P){super(m),this._ngZone=d,this._animationMode=t,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new i.vpe,this._animationEndSubscription=q.w.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+$++;const M=P?P.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${M}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===t}get value(){return this._value}set value(m){this._value=y((0,w.su)(m)||0)}get bufferValue(){return this._bufferValue}set bufferValue(m){this._bufferValue=y(m||0)}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const m=this._primaryValueBar.nativeElement;this._animationEndSubscription=(0,_.R)(m,"transitionend").pipe((0,Z.h)(d=>d.target===m)).subscribe(()=>{("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return p.\u0275fac=function(m){return new(m||p)(i.Y36(i.SBq),i.Y36(i.R0b),i.Y36(J.Qb,8),i.Y36(N,8))},p.\u0275cmp=i.Xpm({type:p,selectors:[["mat-progress-bar"]],viewQuery:function(m,d){if(1&m&&i.Gf(T,5),2&m){let t;i.iGM(t=i.CRH())&&(d._primaryValueBar=t.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(m,d){2&m&&(i.uIk("aria-valuenow","indeterminate"===d.mode||"query"===d.mode?null:d.value)("mode",d.mode),i.ekj("_mat-animation-noopable",d._isNoopAnimation))},inputs:{color:"color",mode:"mode",value:"value",bufferValue:"bufferValue"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[i.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(m,d){1&m&&(i.TgZ(0,"div",0),i.O4$(),i.TgZ(1,"svg",1),i.TgZ(2,"defs"),i.TgZ(3,"pattern",2),i._UZ(4,"circle",3),i.qZA(),i.qZA(),i._UZ(5,"rect",4),i.qZA(),i.kcU(),i._UZ(6,"div",5),i._UZ(7,"div",6,7),i._UZ(9,"div",8),i.qZA()),2&m&&(i.xp6(3),i.Q6J("id",d.progressbarId),i.xp6(2),i.uIk("fill",d._rectangleFillValue),i.xp6(1),i.Q6J("ngStyle",d._bufferTransform()),i.xp6(1),i.Q6J("ngStyle",d._primaryTransform()))},directives:[C.PC],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),p})();function y(p,g=0,m=100){return Math.max(g,Math.min(m,p))}let j=(()=>{class p{}return p.\u0275fac=function(m){return new(m||p)},p.\u0275mod=i.oAB({type:p}),p.\u0275inj=i.cJS({imports:[[C.ez,U.BQ],U.BQ]}),p})()},83989:(at,R,s)=>{s.r(R),s.d(R,{UsersModule:()=>Ot});var i=s(63423),C=s(51095),U=s(7539),w=s(72458),J=s(43220),q=s(1769),_=s(98295),Z=s(76627),T=s(83166),S=s(33935),N=s(36063),Y=s(12178),$=s(82613),F=s(67441),y=s(23017),j=s(32789),p=s(11436),g=s(16738),m=s(7853),d=s(44466),t=s(37716);let P=(()=>{class r{canDeactivate(e,a,n,o){let l=o.root;for(;l.firstChild;)l=l.firstChild;return!(o.url.includes("/users")&&!l.paramMap.get("id"))||e.closeDrawer().then(()=>!0)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var M=s(51999);let rt=(()=>{class r{constructor(e){this._contactsService=e}resolve(e,a){return this._contactsService.getContacts()}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(M.P))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),nt=(()=>{class r{constructor(e){this._contactsService=e}resolve(e,a){return this._contactsService.getCountries()}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(M.P))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),ot=(()=>{class r{constructor(e){this._contactsService=e}resolve(e,a){return this._contactsService.getTags()}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(M.P))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),st=(()=>{class r{constructor(){}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["contacts"]],decls:1,vars:0,template:function(e,a){1&e&&t._UZ(0,"router-outlet")},directives:[i.lC],encapsulation:2,changeDetection:0}),r})();var E=s(8239),A=s(38583),u=s(3679),W=s(79765),it=s(22759),B=s(46782),f=s(43190),O=s(45435),x=s(22238);let ct=(()=>{class r{constructor(e,a){this.dialogRef=e,this.data=a}onNoClick(){this.dialogRef.close()}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(x.so),t.Y36(x.WI))},r.\u0275cmp=t.Xpm({type:r,selectors:[["create-location"]],decls:14,vars:5,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"mt-8"],[1,"fuse-mat-no-subscript","w-full"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","",3,"placeholder","ngModel","spellcheck","ngModelChange"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(e,a){1&e&&(t.TgZ(0,"h1",0),t._uU(1,"Create Location"),t.qZA(),t.TgZ(2,"div",1),t.TgZ(3,"div",2),t.TgZ(4,"mat-form-field",3),t.TgZ(5,"mat-label"),t._uU(6,"Location"),t.qZA(),t._UZ(7,"mat-icon",4),t.TgZ(8,"input",5),t.NdJ("ngModelChange",function(o){return a.data.location=o}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"div",6),t.TgZ(10,"button",7),t.NdJ("click",function(){return a.onNoClick()}),t._uU(11,"Cancel"),t.qZA(),t.TgZ(12,"button",8),t._uU(13,"Ok"),t.qZA(),t.qZA()),2&e&&(t.xp6(7),t.Q6J("svgIcon","heroicons_solid:office-building"),t.xp6(1),t.Q6J("placeholder","Location")("ngModel",a.data.location)("spellcheck",!1),t.xp6(4),t.Q6J("mat-dialog-close",a.data.location))},directives:[x.uh,x.xY,_.KE,_.hX,Z.Hw,_.qo,T.Nt,u.Fj,u.JJ,u.On,x.H8,C.lW,x.ZT],encapsulation:2}),r})();var L=s(26215),lt=s(40205),mt=s(25917),k=s(93342),v=s(15257),b=s(88002),pt=s(91841);let K=(()=>{class r{constructor(e){this._httpClient=e,this._contact=new L.X(null),this._contacts=new L.X(null),this._countries=new L.X(null),this._tags=new L.X(null),this.userEvents=new t.vpe}get contact$(){return this._contact.asObservable()}get contacts$(){return this._contacts.asObservable()}get countries$(){return this._countries.asObservable()}get tags$(){return this._tags.asObservable()}getUsers(){return new Promise((e,a)=>{this._httpClient.get(window.appBaseUrl+"/users").subscribe(n=>{e(n)},a)})}getContacts(){return this._httpClient.get("api/apps/contacts/all").pipe((0,k.b)(e=>{this._contacts.next(e)}))}searchContacts(e){return this._httpClient.get("api/apps/contacts/search",{params:{query:e}}).pipe((0,k.b)(a=>{this._contacts.next(a)}))}getContactById(e){return this._contacts.pipe((0,v.q)(1),(0,b.U)(a=>{const n=a.find(o=>o.id===e)||null;return this._contact.next(n),n}),(0,f.w)(a=>a?(0,mt.of)(a):(0,lt._)("Could not found contact with id of "+e+"!")))}createContact(){return this.contacts$.pipe((0,v.q)(1),(0,f.w)(e=>this._httpClient.post("api/apps/contacts/contact",{}).pipe((0,b.U)(a=>(this._contacts.next([a]),a)))))}createLocation(e){return new Promise((a,n)=>{this._httpClient.post(window.appBaseUrl+"/locations",Object.assign({},e)).subscribe(o=>{a(o)},n)})}getLocations(){return new Promise((e,a)=>{this._httpClient.get(window.appBaseUrl+"/locations").subscribe(n=>{e(n)},a)})}getContactDetails(e){return new Promise((a,n)=>{this._httpClient.get(window.appBaseUrl+`/users/${e}`).subscribe(o=>{a(o)},n)})}registerUser(e){return new Promise((a,n)=>{this._httpClient.post(window.appBaseUrl+"/users/register",e).subscribe(o=>{a(o),this.userEvents.emit({type:"added",data:o})},n)})}updateUser(e,a){return new Promise((n,o)=>{this._httpClient.put(window.appBaseUrl+`/users/${a}`,e).subscribe(l=>{n(l),this.userEvents.emit({type:"updated",data:l})},o)})}deleteUser(e){return new Promise((a,n)=>{this._httpClient.delete(window.appBaseUrl+`/users/${e}`).subscribe(o=>{a(o),this.userEvents.emit({type:"deleted",data:{id:e}})},n)})}updateContact(e,a){return this.contacts$.pipe((0,v.q)(1),(0,f.w)(n=>this._httpClient.patch("api/apps/contacts/contact",{id:e,contact:a}).pipe((0,b.U)(o=>{const l=n.findIndex(h=>h.id===e);return n[l]=o,this._contacts.next(n),o}),(0,f.w)(o=>this.contact$.pipe((0,v.q)(1),(0,O.h)(l=>l&&l.id===e),(0,k.b)(()=>(this._contact.next(o),o)))))))}deleteContact(e){return this.contacts$.pipe((0,v.q)(1),(0,f.w)(a=>this._httpClient.delete("api/apps/contacts/contact",{params:{id:e}}).pipe((0,b.U)(n=>{const o=a.findIndex(l=>l.id===e);return a.splice(o,1),this._contacts.next(a),n}))))}getCountries(){return this._httpClient.get("api/apps/contacts/countries").pipe((0,k.b)(e=>{this._countries.next(e)}))}getTags(){return this._httpClient.get("api/apps/contacts/tags").pipe((0,k.b)(e=>{this._tags.next(e)}))}createTag(e){return this.tags$.pipe((0,v.q)(1),(0,f.w)(a=>this._httpClient.post("api/apps/contacts/tag",{tag:e}).pipe((0,b.U)(n=>(this._tags.next([...a,n]),n)))))}updateTag(e,a){return this.tags$.pipe((0,v.q)(1),(0,f.w)(n=>this._httpClient.patch("api/apps/contacts/tag",{id:e,tag:a}).pipe((0,b.U)(o=>{const l=n.findIndex(h=>h.id===e);return n[l]=o,this._tags.next(n),o}))))}deleteTag(e){return this.tags$.pipe((0,v.q)(1),(0,f.w)(a=>this._httpClient.delete("api/apps/contacts/tag",{params:{id:e}}).pipe((0,b.U)(n=>{const o=a.findIndex(l=>l.id===e);return a.splice(o,1),this._tags.next(a),n}),(0,O.h)(n=>n),(0,f.w)(n=>this.contacts$.pipe((0,v.q)(1),(0,b.U)(o=>(o.forEach(l=>{const h=l.tags.findIndex(I=>I===e);h>-1&&l.tags.splice(h,1)}),n)))))))}uploadAvatar(e,a){return this.contacts$.pipe((0,v.q)(1),(0,f.w)(n=>this._httpClient.post("api/apps/contacts/avatar",{id:e,avatar:a},{headers:{"Content-Type":a.type}}).pipe((0,b.U)(o=>{const l=n.findIndex(h=>h.id===e);return n[l]=o,this._contacts.next(n),o}),(0,f.w)(o=>this.contact$.pipe((0,v.q)(1),(0,O.h)(l=>l&&l.id===e),(0,k.b)(()=>(this._contact.next(o),o)))))))}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(pt.eN))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var H=s(77001),ut=s(91812);const dt=["matDrawer"];function gt(r,c){if(1&r&&(t.ynx(0),t.TgZ(1,"div",25),t._uU(2),t.qZA(),t.BQk()),2&r){const e=t.oxw().$implicit;t.xp6(2),t.hij(" ",e.name.charAt(0)," ")}}function ft(r,c){if(1&r&&(t.ynx(0),t._UZ(1,"img",26),t.BQk()),2&r){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("src",e.avatar,t.LSH)}}function ht(r,c){if(1&r&&(t.ynx(0),t.TgZ(1,"div",27),t._uU(2),t.qZA(),t.BQk()),2&r){const e=t.oxw().$implicit;t.xp6(2),t.hij(" ",e.name.charAt(0)," ")}}const _t=function(r,c){return{"hover:bg-gray-100 dark:hover:bg-hover":r,"bg-primary-50 dark:bg-hover":c}},vt=function(r){return["./",r]};function bt(r,c){if(1&r&&(t.ynx(0),t.YNc(1,gt,3,1,"ng-container",16),t.TgZ(2,"a",20),t.TgZ(3,"div",21),t.YNc(4,ft,2,1,"ng-container",16),t.YNc(5,ht,3,1,"ng-container",16),t.qZA(),t.TgZ(6,"div",22),t.TgZ(7,"div",23),t._uU(8),t.qZA(),t.TgZ(9,"div",24),t._uU(10),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&r){const e=c.$implicit,a=c.index,n=t.oxw(2).ngIf,o=t.oxw();t.xp6(1),t.Q6J("ngIf",0===a||e.name.charAt(0)!==n[a-1].name.charAt(0)),t.xp6(1),t.Q6J("ngClass",t.WLB(7,_t,!o.selectedContact||o.selectedContact.id!==e.id,o.selectedContact&&o.selectedContact.id===e.id))("routerLink",t.VKq(10,vt,e._id)),t.xp6(2),t.Q6J("ngIf",e.avatar),t.xp6(1),t.Q6J("ngIf",!e.avatar),t.xp6(3),t.Oqu(e.name),t.xp6(2),t.Oqu(e.title)}}function Ct(r,c){if(1&r&&(t.ynx(0),t.YNc(1,bt,11,12,"ng-container",19),t.BQk()),2&r){const e=t.oxw().ngIf,a=t.oxw();t.xp6(1),t.Q6J("ngForOf",e)("ngForTrackBy",a.trackByFn)}}function xt(r,c){if(1&r&&(t.ynx(0),t.YNc(1,Ct,2,2,"ng-container",18),t.BQk()),2&r){const e=c.ngIf;t.oxw();const a=t.MAs(27);t.xp6(1),t.Q6J("ngIf",e.length)("ngIfElse",a)}}function yt(r,c){1&r&&(t.TgZ(0,"div",28),t._uU(1,"There are no contacts!"),t.qZA())}let tt=(()=>{class r{constructor(e,a,n,o,l,h,I,X){this.dialog=e,this._activatedRoute=a,this._changeDetectorRef=n,this._contactsService=o,this._document=l,this._router=h,this._snackBar=I,this._fuseMediaWatcherService=X,this.contactsCount=0,this.contactsTableColumns=["name","email","phoneNumber","job"],this.searchInputControl=new u.NI,this._unsubscribeAll=new W.xQ,this.subscription=this._contactsService.userEvents.subscribe(z=>{const{type:D,data:Q}=z;if("added"==D)this.contacts$.push(Q);else if("updated"==D){const V=this.contacts$.findIndex(G=>G._id==Q._id);this.contacts$[V]=Q}else{const V=this.contacts$.findIndex(G=>G._id==Q.id);this.contacts$.splice(V,1)}this._changeDetectorRef.markForCheck(),this._snackBar.open(`User ${D}`,"Done")})}ngOnInit(){var e=this;return(0,E.Z)(function*(){e.contacts$=yield e._contactsService.getUsers(),e._contactsService.countries$.pipe((0,B.R)(e._unsubscribeAll)).subscribe(a=>{e.countries=a,e._changeDetectorRef.markForCheck()}),e.searchInputControl.valueChanges.pipe((0,B.R)(e._unsubscribeAll),(0,f.w)(a=>e._contactsService.searchContacts(a))).subscribe(),e.matDrawer.openedChange.subscribe(a=>{a||(e.selectedContact=null,e._changeDetectorRef.markForCheck())}),e._fuseMediaWatcherService.onMediaChange$.pipe((0,B.R)(e._unsubscribeAll)).subscribe(({matchingAliases:a})=>{e.drawerMode=a.includes("lg")?"side":"over",e._changeDetectorRef.markForCheck()}),(0,it.R)(e._document,"keydown").pipe((0,B.R)(e._unsubscribeAll),(0,O.h)(a=>(!0===a.ctrlKey||a.metaKey)&&"/"===a.key)).subscribe(()=>{e.createContact()})})()}addLocation(){var e=this;this.dialog.open(ct,{width:"250px",data:{}}).afterClosed().subscribe(function(){var n=(0,E.Z)(function*(o){o&&(yield e._contactsService.createLocation({name:o}))});return function(o){return n.apply(this,arguments)}}())}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}onBackdropClicked(){this._router.navigate(["./"],{relativeTo:this._activatedRoute}),this._changeDetectorRef.markForCheck()}createContact(){this._router.navigate(["./new"],{relativeTo:this._activatedRoute}),this._changeDetectorRef.markForCheck()}trackByFn(e,a){return a.id||e}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(x.uw),t.Y36(i.gz),t.Y36(t.sBO),t.Y36(K),t.Y36(A.K0),t.Y36(i.F0),t.Y36(H.ux),t.Y36(ut.T))},r.\u0275cmp=t.Xpm({type:r,selectors:[["contacts-list"]],viewQuery:function(e,a){if(1&e&&t.Gf(dt,7),2&e){let n;t.iGM(n=t.CRH())&&(a.matDrawer=n.first)}},decls:28,vars:13,consts:[[1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-hidden"],[1,"flex-auto","h-full","bg-card","dark:bg-transparent",3,"backdropClick"],[1,"w-full","md:w-160","dark:bg-gray-900",3,"mode","opened","position","disableClose"],["matDrawer",""],[1,"flex","flex-col"],[1,"flex-auto"],[1,"flex","flex-col","sm:flex-row","md:flex-col","flex-auto","justify-between","py-8","px-6","md:px-8","border-b"],[1,"text-4xl","font-extrabold","tracking-tight","leading-none"],[1,"flex","items-center","mt-4","sm:mt-0","md:mt-4"],[1,"fuse-mat-dense","fuse-mat-no-subscript","fuse-mat-rounded","w-full","min-w-50"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-flat-button","",1,"ml-4",3,"color","click"],[3,"svgIcon"],[1,"ml-2","mr-1"],[1,"relative"],[4,"ngIf"],["noContacts",""],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"z-20","flex","items-center","px-6","py-4","md:px-8","cursor-pointer","border-b",3,"ngClass","routerLink"],[1,"flex","flex-0","items-center","justify-center","w-10","h-10","rounded-full","overflow-hidden"],[1,"min-w-0","ml-4"],[1,"font-medium","leading-5","truncate"],[1,"leading-5","truncate","text-secondary"],[1,"z-10","sticky","top-0","-mt-px","px-6","py-1","md:px-8","border-t","border-b","font-medium","uppercase","text-secondary","bg-gray-50","dark:bg-gray-900"],["alt","Contact avatar",1,"object-cover","w-full","h-full",3,"src"],[1,"flex","items-center","justify-center","w-full","h-full","rounded-full","text-lg","uppercase","bg-gray-200","text-gray-600","dark:bg-gray-700","dark:text-gray-200"],[1,"p-8","sm:p-16","border-t","text-4xl","font-semibold","tracking-tight","text-center"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"mat-drawer-container",1),t.NdJ("backdropClick",function(){return a.onBackdropClicked()}),t.TgZ(2,"mat-drawer",2,3),t._UZ(4,"router-outlet"),t.qZA(),t.TgZ(5,"mat-drawer-content",4),t.TgZ(6,"div",5),t.TgZ(7,"div",6),t.TgZ(8,"div"),t.TgZ(9,"div",7),t._uU(10,"Admin"),t.qZA(),t.qZA(),t.TgZ(11,"div",8),t.TgZ(12,"div",5),t.TgZ(13,"mat-form-field",9),t._UZ(14,"mat-icon",10),t._UZ(15,"input",11),t.qZA(),t.qZA(),t.TgZ(16,"button",12),t.NdJ("click",function(){return a.createContact()}),t._UZ(17,"mat-icon",13),t.TgZ(18,"span",14),t._uU(19,"Add User"),t.qZA(),t.qZA(),t.TgZ(20,"button",12),t.NdJ("click",function(){return a.addLocation()}),t._UZ(21,"mat-icon",13),t.TgZ(22,"span",14),t._uU(23,"Add Location"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(24,"div",15),t.YNc(25,xt,2,2,"ng-container",16),t.YNc(26,yt,2,0,"ng-template",null,17,t.W1O),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.Q6J("mode",a.drawerMode)("opened",!1)("position","end")("disableClose",!0),t.xp6(12),t.Q6J("svgIcon","heroicons_solid:search"),t.xp6(1),t.Q6J("formControl",a.searchInputControl)("autocomplete","off")("placeholder","Search contacts"),t.xp6(1),t.Q6J("color","primary"),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:plus"),t.xp6(3),t.Q6J("color","primary"),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:plus"),t.xp6(4),t.Q6J("ngIf",a.contacts$))},directives:[y.kh,y.jA,i.lC,y.LW,_.KE,Z.Hw,_.qo,T.Nt,u.Fj,u.JJ,u.oH,C.lW,A.O5,A.sg,i.yS,A.mk],encapsulation:2,changeDetection:0}),r})();var Zt=s(87636),Tt=s(54395),At=s(1400),kt=s(58203);const Ut=["avatarFileInput"],wt=["tagsPanel"],Mt=["tagsPanelOrigin"];function It(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"div",7),t.TgZ(1,"div",8),t.TgZ(2,"div",9),t.TgZ(3,"div",10),t.TgZ(4,"button",11),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).toggleEditMode(!0)}),t._UZ(5,"mat-icon",12),t.TgZ(6,"span",13),t._uU(7,"Edit"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"div",14),t._uU(9),t.qZA(),t.ynx(10),t.TgZ(11,"div",15),t.ynx(12),t.TgZ(13,"div",16),t.TgZ(14,"span",17),t._uU(15),t.qZA(),t.qZA(),t.TgZ(16,"div",16),t.TgZ(17,"span",17),t._uU(18),t.qZA(),t.qZA(),t.BQk(),t.qZA(),t.BQk(),t.qZA(),t.qZA()}if(2&r){const e=t.oxw(2);t.xp6(5),t.Q6J("svgIcon","heroicons_solid:pencil-alt"),t.xp6(4),t.Oqu(e.contact.name),t.xp6(4),t.Q6J("matTooltip","email"),t.xp6(2),t.Oqu(e.contact.email),t.xp6(1),t.Q6J("matTooltip","Location"),t.xp6(2),t.Oqu(e.contact.location)}}const et=function(){return["../"]};function Dt(r,c){if(1&r&&(t.ynx(0),t.TgZ(1,"div",2),t.TgZ(2,"div",3),t.TgZ(3,"button",4),t._UZ(4,"mat-icon",5),t.qZA(),t.qZA(),t.qZA(),t.YNc(5,It,19,6,"div",6),t.BQk()),2&r){const e=t.oxw();t.xp6(3),t.Q6J("matTooltip","Close")("routerLink",t.DdM(4,et)),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:x"),t.xp6(1),t.Q6J("ngIf",e.contact)}}function Rt(r,c){if(1&r&&(t.ynx(0),t._UZ(1,"img",32),t.BQk()),2&r){const e=t.oxw(2);t.xp6(1),t.Q6J("src",e.contact.background,t.LSH)}}function Ft(r,c){if(1&r&&(t.TgZ(0,"mat-option",33),t._uU(1),t.qZA()),2&r){const e=c.$implicit;t.Q6J("value",e.name),t.xp6(1),t.Oqu(e.name)}}const Pt=function(){return{standalone:!0}};function Et(r,c){if(1&r){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",18),t.YNc(2,Rt,2,1,"ng-container",1),t.TgZ(3,"div",3),t.TgZ(4,"button",4),t._UZ(5,"mat-icon",5),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",19),t.TgZ(7,"div",8),t.TgZ(8,"form",20),t.TgZ(9,"div",21),t.TgZ(10,"mat-form-field",22),t.TgZ(11,"mat-label"),t._uU(12,"Name"),t.qZA(),t._UZ(13,"mat-icon",23),t._UZ(14,"input",24),t.qZA(),t.qZA(),t.TgZ(15,"div",21),t.TgZ(16,"mat-form-field",22),t.TgZ(17,"mat-label"),t._uU(18,"Email"),t.qZA(),t._UZ(19,"mat-icon",23),t._UZ(20,"input",24),t.qZA(),t.qZA(),t.TgZ(21,"div",21),t.TgZ(22,"mat-form-field",22),t.TgZ(23,"mat-label"),t._uU(24,"Phone"),t.qZA(),t._UZ(25,"mat-icon",23),t._UZ(26,"input",24),t.qZA(),t.qZA(),t.TgZ(27,"div",21),t.TgZ(28,"mat-form-field",22),t.TgZ(29,"mat-label"),t._uU(30,"Password"),t.qZA(),t._UZ(31,"mat-icon",23),t._UZ(32,"input",25),t.qZA(),t.qZA(),t.TgZ(33,"div",21),t.TgZ(34,"mat-form-field",22),t.TgZ(35,"mat-label"),t._uU(36,"Location"),t.qZA(),t._UZ(37,"mat-icon",23),t.TgZ(38,"mat-select",26),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw().contact.location=n}),t.YNc(39,Ft,2,2,"mat-option",27),t.qZA(),t.qZA(),t.qZA(),t.TgZ(40,"div",28),t.TgZ(41,"button",29),t.NdJ("click",function(){return t.CHM(e),t.oxw().deleteContact()}),t._uU(42," Delete "),t.qZA(),t.TgZ(43,"button",30),t.NdJ("click",function(){return t.CHM(e),t.oxw().toggleEditMode(!1)}),t._uU(44," Cancel "),t.qZA(),t.TgZ(45,"button",31),t.NdJ("click",function(){return t.CHM(e),t.oxw().updateContact()}),t._uU(46," Save "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&r){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.contact.background),t.xp6(2),t.Q6J("matTooltip","Close")("routerLink",t.DdM(31,et)),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:x"),t.xp6(3),t.Q6J("formGroup",e.contactForm),t.xp6(5),t.Q6J("svgIcon","heroicons_solid:user-circle"),t.xp6(1),t.Q6J("formControlName","name")("placeholder","Name")("spellcheck",!1),t.xp6(5),t.Q6J("svgIcon","heroicons_solid:mail"),t.xp6(1),t.Q6J("formControlName","email")("placeholder","Email")("spellcheck",!1),t.xp6(5),t.Q6J("svgIcon","heroicons_solid:phone"),t.xp6(1),t.Q6J("formControlName","phoneNumber")("placeholder","Phone")("spellcheck",!1),t.xp6(5),t.Q6J("svgIcon","heroicons_solid:key"),t.xp6(1),t.Q6J("formControlName","password")("placeholder","Password")("spellcheck",!1),t.xp6(5),t.Q6J("svgIcon","heroicons_solid:office-building"),t.xp6(1),t.Q6J("ngModelOptions",t.DdM(32,Pt))("ngModel",e.contact.location),t.xp6(1),t.Q6J("ngForOf",e.locations),t.xp6(2),t.Q6J("color","warn")("matTooltip","Delete"),t.xp6(2),t.Q6J("matTooltip","Cancel"),t.xp6(2),t.Q6J("color","primary")("disabled",e.contactForm.invalid&&e.isNew||!e.contact.location)("matTooltip","Save")}}const Bt=[{path:"",component:st,resolve:{tags:ot},children:[{path:"",component:tt,resolve:{tasks:rt,countries:nt},children:[{path:":id",component:(()=>{class r{constructor(e,a,n,o,l,h,I,X,z,D){this._activatedRoute=e,this._changeDetectorRef=a,this._UsersListComponent=n,this._contactsService=o,this._formBuilder=l,this._fuseConfirmationService=h,this._renderer2=I,this._router=X,this._overlay=z,this._viewContainerRef=D,this.editMode=!1,this.tagsEditMode=!1,this._unsubscribeAll=new W.xQ}ngOnInit(){var e=this;return(0,E.Z)(function*(){const a=e._activatedRoute.snapshot.params;e.isNew="new"===a.id,e._UsersListComponent.matDrawer.open(),e.isNew?(e.contact={},e.editMode=!0):e.contact=yield e._contactsService.getContactDetails(a.id),e.contactForm=e._formBuilder.group({name:[e.contact.name||"",[u.kI.required]],email:[e.contact.email||"",[u.kI.required,u.kI.email]],phoneNumber:[e.contact.phoneNumber||"",[u.kI.required]],password:[e.contact.password||"",[u.kI.required]]}),e.locations=yield e._contactsService.getLocations(),e._changeDetectorRef.markForCheck()})()}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete(),this._tagsPanelOverlayRef&&this._tagsPanelOverlayRef.dispose()}closeDrawer(){return this._UsersListComponent.matDrawer.close()}toggleEditMode(e=null){this.editMode=null===e?!this.editMode:e,this._changeDetectorRef.markForCheck()}checkIfPasswordsMatch(){return(this.contactForm.value.password=this.contactForm.value.confirmPassword)?(this.contactForm.controls.password.setErrors({incorrect:!0}),this.contactForm.controls.confirmPassword.setErrors({incorrect:!0}),this.passwordMatchError=!0,!1):(this.passwordMatchError=!1,!0)}updateContact(){var e=this;return(0,E.Z)(function*(){const{email:a,name:n,password:o,phoneNumber:l}=e.contactForm.value;e.isNew?yield e._contactsService.registerUser({email:a,phoneNumber:l,name:n,password:o,location:e.contact.location}):yield e._contactsService.updateUser({email:a,phoneNumber:l,name:n,password:o,location:e.contact.location},e.contact._id),e._router.navigate(["../"],{relativeTo:e._activatedRoute})})()}deleteContact(){this._fuseConfirmationService.open({title:"Delete contact",message:"Are you sure you want to delete this contact? This action cannot be undone!",actions:{confirm:{label:"Delete"}}}).afterClosed().subscribe(a=>{"confirmed"===a&&(this._contactsService.deleteUser(this.contact._id),this._UsersListComponent.matDrawer.close(),this._changeDetectorRef.markForCheck())})}uploadAvatar(e){if(!e.length)return;const n=e[0];!["image/jpeg","image/png"].includes(n.type)||this._contactsService.uploadAvatar(this.contact.id,n).subscribe()}removeAvatar(){this.contactForm.get("avatar").setValue(null),this._avatarFileInput.nativeElement.value=null,this.contact.avatar=null}openTagsPanel(){this._tagsPanelOverlayRef=this._overlay.create({backdropClass:"",hasBackdrop:!0,scrollStrategy:this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().flexibleConnectedTo(this._tagsPanelOrigin.nativeElement).withFlexibleDimensions(!0).withViewportMargin(64).withLockedPosition(!0).withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"}])}),this._tagsPanelOverlayRef.attachments().subscribe(()=>{this._renderer2.addClass(this._tagsPanelOrigin.nativeElement,"panel-opened"),this._tagsPanelOverlayRef.overlayElement.querySelector("input").focus()});const e=new Zt.UE(this._tagsPanel,this._viewContainerRef);this._tagsPanelOverlayRef.attach(e),this._tagsPanelOverlayRef.backdropClick().subscribe(()=>{this._renderer2.removeClass(this._tagsPanelOrigin.nativeElement,"panel-opened"),this._tagsPanelOverlayRef&&this._tagsPanelOverlayRef.hasAttached()&&(this._tagsPanelOverlayRef.detach(),this.filteredTags=this.tags,this.tagsEditMode=!1),e&&e.isAttached&&e.detach()})}toggleTagsEditMode(){this.tagsEditMode=!this.tagsEditMode}filterTags(e){const a=e.target.value.toLowerCase();this.filteredTags=this.tags.filter(n=>n.title.toLowerCase().includes(a))}filterTagsInputKeyDown(e){if("Enter"!==e.key)return;if(0===this.filteredTags.length)return this.createTag(e.target.value),void(e.target.value="");const a=this.filteredTags[0];this.contact.tags.find(o=>o===a.id)?this.removeTagFromContact(a):this.addTagToContact(a)}createTag(e){this._contactsService.createTag({title:e}).subscribe(n=>{this.addTagToContact(n)})}updateTagTitle(e,a){e.title=a.target.value,this._contactsService.updateTag(e.id,e).pipe((0,Tt.b)(300)).subscribe(),this._changeDetectorRef.markForCheck()}deleteTag(e){this._contactsService.deleteTag(e.id).subscribe(),this._changeDetectorRef.markForCheck()}addTagToContact(e){this.contact.tags.unshift(e.id),this.contactForm.get("tags").patchValue(this.contact.tags),this._changeDetectorRef.markForCheck()}removeTagFromContact(e){this.contact.tags.splice(this.contact.tags.findIndex(a=>a===e.id),1),this.contactForm.get("tags").patchValue(this.contact.tags),this._changeDetectorRef.markForCheck()}toggleContactTag(e){this.contact.tags.includes(e.id)?this.removeTagFromContact(e):this.addTagToContact(e)}shouldShowCreateTagButton(e){return!(""===e||this.tags.findIndex(a=>a.title.toLowerCase()===e.toLowerCase())>-1)}addEmailField(){const e=this._formBuilder.group({email:[""],label:[""]});this.contactForm.get("emails").push(e),this._changeDetectorRef.markForCheck()}removeEmailField(e){this.contactForm.get("emails").removeAt(e),this._changeDetectorRef.markForCheck()}addPhoneNumberField(){const e=this._formBuilder.group({country:["us"],phoneNumber:[""],label:[""]});this.contactForm.get("phoneNumbers").push(e),this._changeDetectorRef.markForCheck()}removePhoneNumberField(e){this.contactForm.get("phoneNumbers").removeAt(e),this._changeDetectorRef.markForCheck()}getCountryByIso(e){return this.countries.find(a=>a.iso===e)}trackByFn(e,a){return a.id||e}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(i.gz),t.Y36(t.sBO),t.Y36(tt),t.Y36(K),t.Y36(u.qu),t.Y36(At.R),t.Y36(t.Qsj),t.Y36(i.F0),t.Y36(kt.aV),t.Y36(t.s_b))},r.\u0275cmp=t.Xpm({type:r,selectors:[["contacts-details"]],viewQuery:function(e,a){if(1&e&&(t.Gf(Ut,5),t.Gf(wt,5),t.Gf(Mt,5)),2&e){let n;t.iGM(n=t.CRH())&&(a._avatarFileInput=n.first),t.iGM(n=t.CRH())&&(a._tagsPanel=n.first),t.iGM(n=t.CRH())&&(a._tagsPanelOrigin=n.first)}},decls:3,vars:2,consts:[[1,"flex","flex-col","w-full"],[4,"ngIf"],[1,"relative","w-full","px-8","sm:px-12","bg-accent-100","dark:bg-accent-700"],[1,"flex","items-center","justify-end","w-full","max-w-3xl","mx-auto","pt-6"],["mat-icon-button","",3,"matTooltip","routerLink"],[3,"svgIcon"],["class","relative flex flex-col flex-auto items-center p-6 pt-0 sm:p-12 sm:pt-0",4,"ngIf"],[1,"relative","flex","flex-col","flex-auto","items-center","p-6","pt-0","sm:p-12","sm:pt-0"],[1,"w-full","max-w-3xl"],[1,"flex","flex-auto","items-end"],[1,"flex","items-center","ml-auto","mb-1"],["mat-stroked-button","",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2"],[1,"mt-3","text-4xl","font-bold","truncate"],[1,"flex","flex-wrap","items-center","mt-2"],[1,"flex","items-center","justify-center","py-1","px-3","mr-3","mb-3","rounded-full","leading-normal","text-gray-500","bg-gray-100","dark:text-gray-300","dark:bg-gray-700",3,"matTooltip"],[1,"text-sm","font-medium","whitespace-nowrap"],[1,"relative","w-full","px-8","sm:px-12"],[1,"relative","flex","flex-col","flex-auto","items-center","px-6","sm:px-12"],[3,"formGroup"],[1,"mt-8"],[1,"fuse-mat-no-subscript","w-full"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","",3,"formControlName","placeholder","spellcheck"],["matInput","","type","password",3,"formControlName","placeholder","spellcheck"],[3,"ngModelOptions","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"flex","items-center","mt-10","-mx-6","sm:-mx-12","py-4","pr-4","pl-1","sm:pr-12","sm:pl-7","border-t","bg-gray-50","dark:bg-transparent"],["mat-button","",3,"color","matTooltip","click"],["mat-button","",1,"ml-auto",3,"matTooltip","click"],["mat-flat-button","",1,"ml-2",3,"color","disabled","matTooltip","click"],[1,"absolute","inset-0","object-cover","w-full","h-full",3,"src"],[3,"value"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0),t.YNc(1,Dt,6,5,"ng-container",1),t.YNc(2,Et,47,33,"ng-container",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",!a.editMode),t.xp6(1),t.Q6J("ngIf",a.editMode))},directives:[A.O5,C.lW,p.gM,i.rH,Z.Hw,u._Y,u.JL,u.sg,_.KE,_.hX,_.qo,T.Nt,u.Fj,u.JJ,u.u,F.gD,u.On,A.sg,w.ey],encapsulation:2,changeDetection:0}),r})(),canDeactivate:[P]}]}]}];let Ot=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({providers:[{provide:w.sG,useValue:{parse:{dateInput:g.ISO_8601},display:{dateInput:"LL",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}}}],imports:[[i.Bz.forChild(Bt),C.ot,U.p9,J.FA,q.t,_.lN,Z.Ps,x.Is,H.ZX,T.c,S.Tx,N.Yd,Y.Cv,$.Fk,w.si,F.LD,y.SJ,j.p0,p.AV,m.V,d.m]]}),r})()}}]);